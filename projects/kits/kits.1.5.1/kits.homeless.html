<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>kits.homeless documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Kits 1.5.1 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="kits.contextual-logging.html"><span>kits.contextual-logging</span></a></li><li><a href="kits.csv.html"><span>kits.csv</span></a></li><li><a href="kits.db-migrator.html"><span>kits.db-migrator</span></a></li><li><a href="kits.foundation.html"><span>kits.foundation</span></a></li><li class="current"><a href="kits.homeless.html"><span>kits.homeless</span></a></li><li><a href="kits.logging.html"><span>kits.logging</span></a></li><li><a href="kits.map.html"><span>kits.map</span></a></li><li><a href="kits.match.html"><span>kits.match</span></a></li><li><a href="kits.queues.html"><span>kits.queues</span></a></li><li><a href="kits.runtime.html"><span>kits.runtime</span></a></li><li><a href="kits.seq.html"><span>kits.seq</span></a></li><li><a href="kits.string.html"><span>kits.string</span></a></li><li><a href="kits.structured-logging.html"><span>kits.structured-logging</span></a></li><li><a href="kits.test-utils.html"><span>kits.test-utils</span></a></li><li><a href="kits.timestamp.html"><span>kits.timestamp</span></a></li><li><a href="kits.xml.html"><span>kits.xml</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="kits.homeless.html#var-apply-kw"><span>apply-kw</span></a></li><li><a href="kits.homeless.html#var-average"><span>average</span></a></li><li><a href="kits.homeless.html#var-base-array%3F"><span>base-array?</span></a></li><li><a href="kits.homeless.html#var-bind-value-and-elapsed-time"><span>bind-value-and-elapsed-time</span></a></li><li><a href="kits.homeless.html#var-call-with-timeout"><span>call-with-timeout</span></a></li><li><a href="kits.homeless.html#var-def-many-methods"><span>def-many-methods</span></a></li><li><a href="kits.homeless.html#var-defn-cond"><span>defn-cond</span></a></li><li><a href="kits.homeless.html#var-defn-kw"><span>defn-kw</span></a></li><li><a href="kits.homeless.html#var-do-all-return-first"><span>do-all-return-first</span></a></li><li><a href="kits.homeless.html#var-fprint"><span>fprint</span></a></li><li><a href="kits.homeless.html#var-fprintln"><span>fprintln</span></a></li><li><a href="kits.homeless.html#var-ignore-exceptions"><span>ignore-exceptions</span></a></li><li><a href="kits.homeless.html#var-ip-address-v4%3F"><span>ip-address-v4?</span></a></li><li><a href="kits.homeless.html#var-ipv4-dotted-to-integer"><span>ipv4-dotted-to-integer</span></a></li><li><a href="kits.homeless.html#var-ipv4-integer-to-dotted"><span>ipv4-integer-to-dotted</span></a></li><li><a href="kits.homeless.html#var-make-comparator"><span>make-comparator</span></a></li><li><a href="kits.homeless.html#var-make-default-progress-reporter"><span>make-default-progress-reporter</span></a></li><li><a href="kits.homeless.html#var-mkdir-p"><span>mkdir-p</span></a></li><li><a href="kits.homeless.html#var-parse-cents"><span>parse-cents</span></a></li><li><a href="kits.homeless.html#var-parse-double"><span>parse-double</span></a></li><li><a href="kits.homeless.html#var-parse-float"><span>parse-float</span></a></li><li><a href="kits.homeless.html#var-parse-int"><span>parse-int</span></a></li><li><a href="kits.homeless.html#var-parse-long"><span>parse-long</span></a></li><li><a href="kits.homeless.html#var-parse-number"><span>parse-number</span></a></li><li><a href="kits.homeless.html#var-parse-short"><span>parse-short</span></a></li><li><a href="kits.homeless.html#var-parse-url"><span>parse-url</span></a></li><li><a href="kits.homeless.html#var-periodic-fn"><span>periodic-fn</span></a></li><li><a href="kits.homeless.html#var-pos-integer%3F"><span>pos-integer?</span></a></li><li><a href="kits.homeless.html#var-print-error"><span>print-error</span></a></li><li><a href="kits.homeless.html#var-print-vals"><span>print-vals</span></a></li><li><a href="kits.homeless.html#var-raise"><span>raise</span></a></li><li><a href="kits.homeless.html#var-random-sleep"><span>random-sleep</span></a></li><li><a href="kits.homeless.html#var-retrying-fn"><span>retrying-fn</span></a></li><li><a href="kits.homeless.html#var-safe-sleep"><span>safe-sleep</span></a></li><li><a href="kits.homeless.html#var-single-destructuring-arg-%3Eform%2Bname"><span>single-destructuring-arg-&gt;form+name</span></a></li><li><a href="kits.homeless.html#var-str-%3Eboolean"><span>str-&gt;boolean</span></a></li><li><a href="kits.homeless.html#var-time-elapsed"><span>time-elapsed</span></a></li><li><a href="kits.homeless.html#var-time-elapsed*"><span>time-elapsed*</span></a></li><li><a href="kits.homeless.html#var-time-ms"><span>time-ms</span></a></li><li><a href="kits.homeless.html#var-to-url"><span>to-url</span></a></li><li><a href="kits.homeless.html#var-uuid"><span>uuid</span></a></li><li><a href="kits.homeless.html#var-value-and-elapsed-time"><span>value-and-elapsed-time</span></a></li><li><a href="kits.homeless.html#var-with-progress-reporting"><span>with-progress-reporting</span></a></li><li><a href="kits.homeless.html#var-with-temp-file"><span>with-temp-file</span></a></li><li><a href="kits.homeless.html#var-with-timeout"><span>with-timeout</span></a></li><li><a href="kits.homeless.html#var-wrap-periodic"><span>wrap-periodic</span></a></li><li><a href="kits.homeless.html#var-wrap-trapping-errors"><span>wrap-trapping-errors</span></a></li><li><a href="kits.homeless.html#var-zero-or-pos-integer%3F"><span>zero-or-pos-integer?</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>kits.homeless documentation</h2><pre class="doc">Unfortunate, uncategorized utility functions and macros.
Please help one of these poor souls find a home in a
focused, Single-Responsibility namespace instead :(</pre><div class="public" id="var-apply-kw"><h3>apply-kw</h3><div class="usage"><code>(apply-kw f &amp; args)</code></div><pre class="doc">Like apply, but f take kw-args.  The last arg to apply-kw is
 a map of the kw-args to pass to f.
EXPECTS: {:pre [(map? (last args))]}</pre></div><div class="public" id="var-average"><h3>average</h3><div class="usage"><code>(average &amp; nums)</code></div><pre class="doc">If nums is empty returns nil.
This is optimized for speed to loop over the nums only once.</pre></div><div class="public" id="var-base-array%3F"><h3>base-array?</h3><div class="usage"><code>(base-array? a)</code></div><pre class="doc">Test if specified array is of a base-type (long/double etc.)
</pre></div><div class="public" id="var-bind-value-and-elapsed-time"><h3>bind-value-and-elapsed-time</h3><h4 class="macro">macro</h4><div class="usage"><code>(bind-value-and-elapsed-time bindings expr &amp; body)</code></div><pre class="doc">Binds [value elapsed-time-us] from evaluating `expr` and invokes
`body`.</pre></div><div class="public" id="var-call-with-timeout"><h3>call-with-timeout</h3><div class="usage"><code>(call-with-timeout timeout-ms f)</code></div><pre class="doc">Evaluate the function `f` but throw a RuntimeException if it takes
longer than `timeout` milliseconds.</pre></div><div class="public" id="var-def-many-methods"><h3>def-many-methods</h3><h4 class="macro">macro</h4><div class="usage"><code>(def-many-methods name dispatch-values &amp; body)</code></div><pre class="doc">Creates multiple multimethods with different dispatch values, but the same implementation.
</pre></div><div class="public" id="var-defn-cond"><h3>defn-cond</h3><h4 class="macro">macro</h4><div class="usage"><code>(defn-cond name &amp; fdecl)</code></div><pre class="doc">Variant of defn that allows for multiple alternative
implementations in the body, one of which is used based on a
matching predicate, e.g.,

(defn-cond test [a b]
  (re-find #&quot;^1.2&quot; (clojure-version))
  (* a b)

  :else
  (+ a b))

would define `test` one way under Clojure 1.2, and differently on
other versions.</pre></div><div class="public" id="var-defn-kw"><h3>defn-kw</h3><h4 class="macro">macro</h4><div class="usage"><code>(defn-kw &amp; args)</code></div><pre class="doc">A form of defn where the last arg is assumed to be keywords args, i.e.
(defn-kw f
  &quot;optional doc-string here.&quot;
  [a b &amp; {:keys [c d]}]
  (+ a b c d))
Has built-in assertion that you have not accidentally passed in keys that
were not listed in the key destructuring.</pre></div><div class="public" id="var-do-all-return-first"><h3>do-all-return-first</h3><h4 class="macro">macro</h4><div class="usage"><code>(do-all-return-first expr1 &amp; exprs)</code></div><pre class="doc">Evaluate expr1 and exprs and return the value of expr1.
</pre></div><div class="public" id="var-fprint"><h3>fprint</h3><div class="usage"><code>(fprint &amp; more)</code></div><pre class="doc">Same as print but explicitly flushes *out*.
</pre></div><div class="public" id="var-fprintln"><h3>fprintln</h3><div class="usage"><code>(fprintln &amp; more)</code></div><pre class="doc">Same as println but explicitly flushes *out*.
</pre></div><div class="public" id="var-ignore-exceptions"><h3>ignore-exceptions</h3><h4 class="macro">macro</h4><div class="usage"><code>(ignore-exceptions &amp; body)</code></div><pre class="doc">Evaluate body, but return nil if any exceptions are thrown.
</pre></div><div class="public" id="var-ip-address-v4%3F"><h3>ip-address-v4?</h3><div class="usage"><code>(ip-address-v4? s)</code></div><pre class="doc">Test if the string `s` is a valid dotted IPv4 address.
</pre></div><div class="public" id="var-ipv4-dotted-to-integer"><h3>ipv4-dotted-to-integer</h3><div class="usage"><code>(ipv4-dotted-to-integer dotted)</code></div><pre class="doc">Convert a dotted notation IPv4 address string to a 32-bit integer.

(ipv4-dotted-to-integer &quot;127.0.0.1&quot;)
=&gt; 2130706433</pre></div><div class="public" id="var-ipv4-integer-to-dotted"><h3>ipv4-integer-to-dotted</h3><div class="usage"><code>(ipv4-integer-to-dotted ip)</code></div><pre class="doc">Convert a 32-bit integer into a dotted notation IPv4 address string.

(ipv4-integer-to-dotted (ipv4-dotted-to-integer &quot;127.0.0.1&quot;))
=&gt; &quot;127.0.0.1&quot;</pre></div><div class="public" id="var-make-comparator"><h3>make-comparator</h3><div class="usage"><code>(make-comparator pred-fn &amp; {:keys [key-fn]})</code></div><pre class="doc">Similar to clojure.core/comparator but optionally accepts a
`key-fn` arg which is applied to each arg of the `pred-fn`, e.g.,

 ((make-comparator &lt; :key-fn :id) {:name &quot;foo&quot; :id 2} {:name &quot;bar&quot; :id 1})
 =&gt; 1</pre></div><div class="public" id="var-make-default-progress-reporter"><h3>make-default-progress-reporter</h3><div class="usage"><code>(make-default-progress-reporter {:keys [iters-per-row num-columns row-handler row-fmt no-summary]})</code></div><pre class="doc">A basic progress reporter function which can be used with
`with-progress-reporting`.</pre></div><div class="public" id="var-mkdir-p"><h3>mkdir-p</h3><div class="usage"><code>(mkdir-p path)</code></div><pre class="doc">Create directory and parent directories if any
</pre></div><div class="public" id="var-parse-cents"><h3>parse-cents</h3><div class="usage"><code>(parse-cents s)</code></div><pre class="doc">Parses a string like '1.99', which represents a dollar value into a
Long representing the number of cents, in this case 199</pre></div><div class="public" id="var-parse-double"><h3>parse-double</h3><div class="usage"><code>(parse-double s)</code></div><pre class="doc">Parse double precision number from string `s`
</pre></div><div class="public" id="var-parse-float"><h3>parse-float</h3><div class="usage"><code>(parse-float s)</code></div><pre class="doc">Parse floating point value from string `s`
</pre></div><div class="public" id="var-parse-int"><h3>parse-int</h3><div class="usage"><code>(parse-int s)</code></div><pre class="doc">Parse integer value from string `s`
</pre></div><div class="public" id="var-parse-long"><h3>parse-long</h3><div class="usage"><code>(parse-long s)</code></div><pre class="doc">Parse long integer value from string `s`
</pre></div><div class="public" id="var-parse-number"><h3>parse-number</h3><div class="usage"><code>(parse-number s)</code><code>(parse-number s default)</code></div><pre class="doc">Parse a number from string `s`, optionally passing a default value
to return.</pre></div><div class="public" id="var-parse-short"><h3>parse-short</h3><div class="usage"><code>(parse-short s)</code></div><pre class="doc">Parse short integer value from string `s`
</pre></div><div class="public" id="var-parse-url"><h3>parse-url</h3><div class="usage"><code>(parse-url spec)</code></div><pre class="doc">Parse the url spec into a map with keys {:scheme, :host, etc.}
</pre></div><div class="public" id="var-periodic-fn"><h3>periodic-fn</h3><h4 class="macro">macro</h4><div class="usage"><code>(periodic-fn args [var period] &amp; body)</code></div><pre class="doc">creates a fn that executes 'body' every 'period' calls
</pre></div><div class="public" id="var-pos-integer%3F"><h3>pos-integer?</h3><div class="usage"><code>(pos-integer? x)</code></div><pre class="doc">Return true if `x` is a positive integer value.
</pre></div><div class="public" id="var-print-error"><h3>print-error</h3><div class="usage"><code>(print-error &amp; args)</code></div><pre class="doc">Println to *err*
</pre></div><div class="public" id="var-print-vals"><h3>print-vals</h3><div class="usage"><code>(print-vals &amp; args)</code></div><pre class="doc">Print the specified args, and return the value of the last arg.
</pre></div><div class="public" id="var-raise"><h3>raise</h3><div class="usage"><code>(raise &amp; msg)</code></div><pre class="doc">Raise a RuntimeException with specified message.
</pre></div><div class="public" id="var-random-sleep"><h3>random-sleep</h3><div class="usage"><code>(random-sleep min-millis max-millis)</code></div><pre class="doc">Sleep between 'min-millis' and 'max-millis' milliseconds
</pre></div><div class="public" id="var-retrying-fn"><h3>retrying-fn</h3><div class="usage"><code>(retrying-fn f max-times)</code></div><pre class="doc">Take a no-arg function f and max times it should be called, returns a new no-arg
function that will call f again if calling f throws a Throwable.</pre></div><div class="public" id="var-safe-sleep"><h3>safe-sleep</h3><div class="usage"><code>(safe-sleep millis)</code></div><pre class="doc">Sleep for `millis` milliseconds.
</pre></div><div class="public" id="var-single-destructuring-arg-%3Eform%2Bname"><h3>single-destructuring-arg-&gt;form+name</h3><div class="usage"><code>(single-destructuring-arg-&gt;form+name arg-form)</code></div><pre class="doc">Turns any one binding arg (which may be a destructuring binding) into a vector
where the left elem is the arg with a possible :as added to it.
And the rght side is the symbol referring to the arg itself.</pre></div><div class="public" id="var-str-%3Eboolean"><h3>str-&gt;boolean</h3><div class="usage"><code>(str-&gt;boolean s)</code></div><pre class="doc">Boolean value for the specified string, per the following rules:

&quot;true&quot; =&gt; true
&quot;false&quot; =&gt; false
&quot;foobar&quot; =&gt; true
nil or &quot;&quot; =&gt; false</pre></div><div class="public" id="var-time-elapsed"><h3>time-elapsed</h3><h4 class="macro">macro</h4><div class="usage"><code>(time-elapsed &amp; body)</code></div><pre class="doc">Returns time elapsed in millis.
</pre></div><div class="public" id="var-time-elapsed*"><h3>time-elapsed*</h3><div class="usage"><code>(time-elapsed* f)</code></div><pre class="doc">Returns time elapsed in millis.
</pre></div><div class="public" id="var-time-ms"><h3>time-ms</h3><div class="usage"><code>(time-ms)</code></div><pre class="doc">Number of milli-seconds since epoch.
</pre></div><div class="public" id="var-to-url"><h3>to-url</h3><div class="usage"><code>(to-url s)</code></div><pre class="doc">Returns a java.net.URL instance or nil if URL failed to parse
</pre></div><div class="public" id="var-uuid"><h3>uuid</h3><div class="usage"><code>(uuid)</code></div><pre class="doc">Return a UUID string.
</pre></div><div class="public" id="var-value-and-elapsed-time"><h3>value-and-elapsed-time</h3><div class="usage"><code>(value-and-elapsed-time thunk)</code></div><pre class="doc">Return the value of `thunk` and time taken to evaluate in
microseconds.</pre></div><div class="public" id="var-with-progress-reporting"><h3>with-progress-reporting</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-progress-reporting opts &amp; body)</code></div><pre class="doc">Bind a `reportfn` function, and evaluate `body` wherein
calling (report!) will invoke the report function with the current
state of the iteration.</pre></div><div class="public" id="var-with-temp-file"><h3>with-temp-file</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-temp-file var &amp; body)</code></div><pre class="doc">Bind var to a temp File instance and invoke body, and delete the
file on return.</pre></div><div class="public" id="var-with-timeout"><h3>with-timeout</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-timeout timeout &amp; body)</code></div><pre class="doc">Evaluate `body` but throw a RuntimeException if it takes longer
than `timeout` milliseconds.</pre></div><div class="public" id="var-wrap-periodic"><h3>wrap-periodic</h3><div class="usage"><code>(wrap-periodic f period)</code></div><pre class="doc">Returns a fn which wraps f, that executes `f` once every `period` calls.
</pre></div><div class="public" id="var-wrap-trapping-errors"><h3>wrap-trapping-errors</h3><div class="usage"><code>(wrap-trapping-errors f &amp; [default])</code></div><pre class="doc">Wraps the fn `f` to trap any Throwable, and return `default` in
that case.</pre></div><div class="public" id="var-zero-or-pos-integer%3F"><h3>zero-or-pos-integer?</h3><div class="usage"><code>(zero-or-pos-integer? x)</code></div><pre class="doc">Return true if `x` is zero or positive integer value.
</pre></div></div></body></html>