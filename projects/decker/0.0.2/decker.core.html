<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>decker.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Decker 0.0.2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="decker.core.html"><span>decker.core</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="decker.core.html#var-*default-fetch-size*"><span>*default-fetch-size*</span></a></li><li><a href="decker.core.html#var--main"><span>-main</span></a></li><li><a href="decker.core.html#var-copy"><span>copy</span></a></li><li><a href="decker.core.html#var-copy-table"><span>copy-table</span></a></li><li><a href="decker.core.html#var-copy-tables"><span>copy-tables</span></a></li><li><a href="decker.core.html#var-make-connection"><span>make-connection</span></a></li><li><a href="decker.core.html#var-with-query-results-cursor"><span>with-query-results-cursor</span></a></li><li><a href="decker.core.html#var-with-rows"><span>with-rows</span></a></li><li><a href="decker.core.html#var-with-tables"><span>with-tables</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>decker.core documentation</h2><pre class="doc"></pre><div class="public" id="var-*default-fetch-size*"><h3>*default-fetch-size*</h3><div class="usage"></div><pre class="doc">This is the default page size used by *with-query-results-cursor* which
is explained next.</pre></div><div class="public" id="var--main"><h3>-main</h3><div class="usage"><code>(-main config-file)</code></div><pre class="doc">To run the project just specify a configuration file with the database information
as detailed in config.clj-sample.  You can then use Leiningen like so:

  lein run /path/to/config.clj

You will see feedback printed as tables are copied.</pre></div><div class="public" id="var-copy"><h3>copy</h3><div class="usage"><code>(copy from to)</code></div><pre class="doc">Copy from the source database to the destination one.  The parameters are maps
containing the connection information for each database. These will then be changed to the
JDBC connection maps when required.</pre></div><div class="public" id="var-copy-table"><h3>copy-table</h3><div class="usage"><code>(copy-table from to table)</code></div><pre class="doc">Copies the contents of a table from one database to another.  This assumes the
destination table is empty for now.  The rows are copied lazily so large tables can be
handled - but performance could be improved.</pre></div><div class="public" id="var-copy-tables"><h3>copy-tables</h3><div class="usage"><code>(copy-tables from to tables)</code></div><pre class="doc">Copies all data from the specified tables from one database to the other.
</pre></div><div class="public" id="var-make-connection"><h3>make-connection</h3><div class="usage"></div><pre class="doc">Takes some database connection information and returns the JDBC connection info
</pre></div><div class="public" id="var-with-query-results-cursor"><h3>with-query-results-cursor</h3><div class="usage"><code>(with-query-results-cursor [sql &amp; params :as sql-params] func)</code></div><pre class="doc">By default the clojure.java.jdbc *with-query-results* doesn't allow proper lazy evaluation because
the underlying ResultSet will extract all the data at once.  So this method uses a cursor to fetch
results a page at a time, but provide a lazy sequence interface.  Taken from http://asymmetrical-view.com/2010/10/14/clojure-lazy-walk-sql-table.html</pre></div><div class="public" id="var-with-rows"><h3>with-rows</h3><div class="usage"><code>(with-rows info table f)</code></div><pre class="doc">Applies a function for each row in the specified table.  The function receives
each row in turn as it is fetched.</pre></div><div class="public" id="var-with-tables"><h3>with-tables</h3><div class="usage"></div><pre class="doc">This function allows applying a function to the name of each table
in the specified database.</pre></div></div></body></html>